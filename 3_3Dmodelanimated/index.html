<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

		<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
		<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>


		<script>
	      	AFRAME.registerComponent('loaded', {
	          init: function () {
	            var el = this.el;
	            el.addEventListener('model-loaded', () => {
	              console.log(el.id+" chargÃ©");
	              });
	            this.el.addEventListener('model-error', () => {
	                // Grab the mesh / scene.
	                console.log("erreur");
	              });
	            }
	      	});
	    </script>
  </head>

  <body style='margin : 0px; overflow: hidden;'>

		<a-scene background="color: skyblue">

			<a-assets>
				<a-asset-item id="glbModel" src="./models/anim2.glb"></a-asset-item>
				<img id="skyTexture"
					src="./models/portgreece1.jpg">

			</a-assets>

			<a-entity   id ="modele"
						scale="0.2 0.2 0.2"
						position="0 0 -4"
						rotation="90 0 90"
						loaded
						animation-mixer
						gltf-model="#glbModel">
			 </a-entity>
			 <a-sound src="src: url(./models/zorbas-le-grec.mp3)" autoplay="true" position="0 0 0" volume="1"></a-sound>
			 <a-entity id="camera" position="0 1.7 0" camera look-controls></a-entity>
			 <a-entity sound="src: #sirtaki"></a-entity>
			 <a-sky src="#skyTexture"></a-sky>
			 <a-light type="ambient" color="#445451"></a-light>
			   <a-light type="point" intensity="2" position="2 4 4"></a-light>
    	</a-scene>

  </body>
</html>
